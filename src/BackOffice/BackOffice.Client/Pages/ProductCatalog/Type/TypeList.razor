@page "/catalog-types"
@* @attribute [Authorize(Roles = BlazorShared.Authorization.Constants.Roles.ADMINISTRATORS)] *@
@attribute [Authorize]
@inherits BlazorComponent

@namespace BackOffice.Client.Pages.ProductCatalog.Type

<PageTitle>Manage Catalog Type</PageTitle>

<MudDataGrid T="ProductType" @ref="@(_dataGrid)" Items="@_catalogTypes" Filterable="true" QuickFilter="@_quickFilter" EditMode="@(_editMode)" EditTrigger="@(_editTrigger)"
             StartedEditingItem="@StartedEditingItem" CanceledEditingItem="@CanceledEditingItem" CommittedItemChanges="@CommittedItemChanges" ReadOnly="false" RowClick="RowClick"
             EditDialogOptions="_dialogOptions" FixedHeader="true" HeaderClass="data-grid-header"
             Style="height:100%; display:flex; flex-direction:column">

    <ToolBarContent>

        <MudButton OnClick="@CreateTypeClick" Color="@Color.Success" Class="add-item-btn">Add</MudButton>
        <MudSpacer />
        <MudTextField @bind-Value="@_searchString" Placeholder="Search" Adornment="Adornment.Start" Immediate="true"
                      AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
    </ToolBarContent>

    <Columns>
        <PropertyColumn Property="x => x.Id" IsEditable="false" />
        <PropertyColumn Property="x => x.Name" />
        <TemplateColumn CellClass="d-flex justify-end" Sortable="false" Filterable="false">
            <CellTemplate>
                <MudIconButton Size="@Size.Small" Icon="@Icons.Material.Outlined.FilterNone" OnClick="@(() => OpenTypeClick(context))" />
            </CellTemplate>
        </TemplateColumn>
    </Columns>

</MudDataGrid>
